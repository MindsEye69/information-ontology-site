(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4448],{8840:function(e,t,s){Promise.resolve().then(s.bind(s,2230)),Promise.resolve().then(s.t.bind(s,231,23))},2230:function(e,t,s){"use strict";s.d(t,{default:function(){return h}});var n=s(7437),r=s(2265),a=s(6013),l=s(495);function i(e){return Math.max(0,Math.min(1,e))}function o(e){return(0,n.jsxs)("span",{className:"group relative inline-flex cursor-pointer select-none items-center",children:[(0,n.jsx)("span",{className:"ml-1 inline-flex h-4 w-4 select-none cursor-pointer items-center justify-center rounded-full border border-white/20 text-[10px] text-slate-200",children:"i"}),(0,n.jsx)("span",{className:"pointer-events-none absolute left-1/2 top-full z-50 mt-2 w-72 -translate-x-1/2 rounded-xl border border-white/10 bg-black/90 p-3 text-xs text-slate-200 opacity-0 shadow-xl transition group-hover:opacity-100",children:e.text})]})}function c(e){let t=e.format?e.format(e.value):String(e.value);return(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-300",children:[(0,n.jsxs)("span",{className:"font-semibold text-slate-200",children:[e.label,e.tip?(0,n.jsx)(o,{text:e.tip}):null]}),(0,n.jsx)("span",{children:t})]}),(0,n.jsx)("input",{className:"w-full",type:"range",min:e.min,max:e.max,step:e.step,value:e.value,onChange:t=>e.onChange(Number(t.target.value))})]})}function d(e){return(0,n.jsx)("button",{onClick:e.onClick,className:["rounded-xl border px-3 py-2 text-xs font-semibold transition",e.active?"border-white/60 bg-white/10 text-white":"border-white/10 bg-black/10 text-slate-200 hover:border-white/30"].join(" "),type:"button",children:e.children})}function h(){let e=(0,r.useRef)(null),t=(0,r.useRef)(null),s=(0,r.useRef)([]),[h,m]=(0,r.useState)(!0),u=(0,r.useRef)(!0),[f,x]=(0,r.useState)({size:120,speed:18,target:.55,controlGain:.55,sensorNoise:.03,drift:.0025,memory:1,nAgents:1}),g=(0,r.useRef)(f);(0,r.useEffect)(()=>{g.current=f},[f]),(0,r.useEffect)(()=>{u.current=h},[h]);let b=()=>{let e=g.current,n=e.size,r=new Float32Array(n*n);for(let e=0;e<n;e+=10)for(let t=0;t<n;t+=10){let s=Math.random();for(let a=e;a<Math.min(n,e+10);a++)for(let e=t;e<Math.min(n,t+10);e++)r[a*n+e]=s}for(let e=0;e<2;e++){let e=new Float32Array(n*n);for(let t=0;t<n;t++)for(let s=0;s<n;s++){let a=0,l=0;for(let e=-1;e<=1;e++)for(let i=-1;i<=1;i++){let o=(s+i+n)%n;a+=r[(t+e+n)%n*n+o],l++}e[t*n+s]=a/l}r.set(e)}t.current=r;let a=[],l=1===e.nAgents?1:3;for(let t=0;t<l;t++)a.push({x:Math.floor(n*(t+1)/(l+1)),y:Math.floor(n/2+(t-1)*12),e:i(e.target+(Math.random()-.5)*.2),m:.5,vx:0,vy:0});s.current=a};(0,r.useEffect)(()=>{b()},[f.size,f.nAgents]);let p=()=>{let e=g.current,n=t.current;if(!n)return;let r=e.size,a=e.drift;if(a>0)for(let e=0;e<r*r;e++){let t=(Math.random()-.5)*a;n[e]=i(n[e]+t-(n[e]-.5)*a*.15)}for(let t of s.current){var l;let s=(l=t.x,t.y*r+l),a=i(n[s]+(Math.random()-.5)*e.sensorNoise),o=e.target-t.e,c=0===e.memory?1:1===e.memory?.25:.08;t.m=i(t.m+(a-t.m)*c);let d=i(.5+o*e.controlGain),h=i(.08+.9*e.sensorNoise+30*e.drift)*(.35+.65*(1-Math.abs(o))),m=o>0,u=[[1,0],[-1,0],[0,1],[0,-1]],f=0,x=0,g=m?-1:2;for(let[e,s]of u){let a=(t.x+e+r)%r,l=n[(t.y+s+r)%r*r+a];m?l>g&&(g=l,f=e,x=s):l<g&&(g=l,f=e,x=s)}if(Math.random()<h){let[e,t]=u[Math.random()*u.length|0];f=e,x=t}t.vx=.65*t.vx+.35*f,t.vy=.65*t.vy+.35*x,Math.random()<.28+.5*d&&(t.x=(t.x+Math.sign(t.vx)+r)%r,t.y=(t.y+Math.sign(t.vy)+r)%r);let b=a*(.06+.2*d);t.e=i(t.e+b-.04),n[s]=i(n[s]+(Math.random()-.5)*.008)}},y=(0,r.useMemo)(()=>({low:[10,18,32],high:[240,248,255],cyan:[34,211,238]}),[]),v=(0,r.useRef)(0),j=(0,r.useRef)(null),w=n=>{let r=e.current,a=t.current;if(!r||!a)return;let l=g.current;null==j.current&&(j.current=n);let o=n-j.current;if(j.current=n,u.current){let e=o/1e3*l.speed+v.current,t=Math.max(0,Math.floor(e));v.current=e-t;for(let e=0;e<t;e++)p()}let c=l.size;r.width=5*c,r.height=5*c;let d=r.getContext("2d"),h=d.createImageData(5*c,5*c),m=5*c;for(let e=0;e<c;e++)for(let t=0;t<c;t++){let s=Math.pow(a[e*c+t],1.15),n=y.low[0]+(y.high[0]-y.low[0])*s,r=y.low[1]+(y.high[1]-y.low[1])*s,l=y.low[2]+(y.high[2]-y.low[2])*s,o=i((s-.45)/.55),d=n*(1-.18*o)+y.cyan[0]*(.18*o),u=r*(1-.18*o)+y.cyan[1]*(.18*o),f=l*(1-.18*o)+y.cyan[2]*(.18*o);for(let s=0;s<5;s++)for(let n=0;n<5;n++){let r=(5*e+s)*m+(5*t+n);h.data[4*r+0]=0|d,h.data[4*r+1]=0|u,h.data[4*r+2]=0|f,h.data[4*r+3]=255}}for(let e of(d.putImageData(h,0,0),s.current)){let t=5*e.x+2.5,s=5*e.y+2.5,n=e.e-l.target,r=Math.min(1,3*Math.abs(n)),a=n>=0?"rgba(56,189,248,0.95)":"rgba(248,113,113,0.95)";d.beginPath(),d.arc(t,s,5+4*r,0,2*Math.PI),d.strokeStyle=a,d.lineWidth=2,d.shadowColor=a,d.shadowBlur=6,d.stroke(),d.beginPath(),d.arc(t,s,2.2,0,2*Math.PI),d.fillStyle="rgba(255,255,255,0.95)",d.shadowBlur=0,d.fill()}let f=s.current.reduce((e,t)=>e+t.e,0)/Math.max(1,s.current.length);d.shadowBlur=0,d.fillStyle="rgba(255,255,255,0.85)",d.font="14px ui-sans-serif, system-ui, -apple-system, Segoe UI",d.fillText("avg energy: ".concat(f.toFixed(2),"   target: ").concat(l.target.toFixed(2)),12,22),d.fillText("agents: ".concat(s.current.length,"   running: ").concat(u.current?"yes":"no"),12,42)};return(0,r.useEffect)(()=>{let e=0,t=s=>{w(s),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>cancelAnimationFrame(e)},[f.size]),(0,n.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.2fr_0.8fr]",children:[(0,n.jsxs)(a.Zb,{className:"border border-white/10 bg-white/5",children:[(0,n.jsxs)(a.Ol,{className:"flex flex-row items-start justify-between gap-3",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)(a.ll,{className:"text-lg",children:"Homeostasis Loop Toy"}),(0,n.jsx)("p",{className:"text-sm text-slate-200",children:"Awareness introduces feedback: the system uses information about its own state to regulate itself."})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.z,{variant:"outline",onClick:()=>m(e=>!e),children:h?"Pause":"Run"}),(0,n.jsx)(l.z,{variant:"outline",onClick:()=>{j.current=null,v.current=0,b()},children:"Reset"}),(0,n.jsx)(l.z,{variant:"outline",onClick:()=>{let e=g.current,n=t.current;if(!n)return;let r=e.size;for(let e of s.current){var a;let t=.5>Math.random()?-1:1;e.e=i(e.e+t*(.18+.12*Math.random()));let s=(a=e.x,e.y*r+a);n[s]=i(n[s]+t*(.12+.08*Math.random()))}},children:"Shock"})]})]}),(0,n.jsxs)(a.aY,{className:"space-y-4",children:[(0,n.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/30",children:(0,n.jsx)("canvas",{ref:e,className:"block h-auto w-full"})}),(0,n.jsxs)("div",{className:"text-sm text-slate-200",children:[(0,n.jsx)("strong",{children:"What to look for"}),(0,n.jsxs)("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[(0,n.jsxs)("li",{children:["The agent’s ring turns ",(0,n.jsx)("span",{className:"text-sky-300",children:"cyan"})," when energy is above target and"," ",(0,n.jsx)("span",{className:"text-red-300",children:"red"})," when below."]}),(0,n.jsx)("li",{children:"Control gain changes how aggressively the agent corrects toward target."}),(0,n.jsx)("li",{children:"Noise and drift push the system away from equilibrium; feedback pulls it back."}),(0,n.jsx)("li",{children:"“Memory” is just smoothing of recent sensory input—no symbols, meaning, or goals."}),(0,n.jsxs)("li",{children:["Press ",(0,n.jsx)("strong",{children:"Shock"})," to perturb the system and make the effects of Gain and Memory immediately visible."]})]})]})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(a.Zb,{className:"border border-white/10 bg-white/5",children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{className:"text-sm",children:"Controls"})}),(0,n.jsxs)(a.aY,{className:"space-y-4",children:[(0,n.jsx)(c,{label:"Target",tip:"Desired internal energy level the agent tries to maintain (the set-point). If the change isn’t obvious immediately, watch ~5 seconds, or increase Drift.",value:f.target,min:.2,max:.8,step:.01,format:e=>e.toFixed(2),onChange:e=>x(t=>({...t,target:e}))}),(0,n.jsx)(c,{label:"Control gain",tip:"How strongly the agent reacts to error (target − energy). Higher gain corrects faster (and may overshoot). Most visible after changing Target or pressing Shock.",value:f.controlGain,min:0,max:1,step:.01,format:e=>e.toFixed(2),onChange:e=>x(t=>({...t,controlGain:e}))}),(0,n.jsx)(c,{label:"Sensor noise",tip:"Random distortion added to sensed environmental input. This effect is statistical—watch 5–10 seconds. Higher noise adds wobble and reduces stability.",value:f.sensorNoise,min:0,max:.2,step:.01,format:e=>"".concat(Math.round(100*e),"%"),onChange:e=>x(t=>({...t,sensorNoise:e}))}),(0,n.jsx)(c,{label:"Environment drift",tip:"Rate at which the environment changes over time. Drift accumulates—compare 0 vs high drift and watch 10–20 seconds.",value:f.drift,min:0,max:.01,step:5e-4,format:e=>e.toFixed(4),onChange:e=>x(t=>({...t,drift:e}))}),(0,n.jsx)(c,{label:"Speed",tip:"Simulation steps per second. Higher values advance the system faster (immediate effect).",value:f.speed,min:5,max:32,step:1,format:e=>"".concat(e," steps/sec"),onChange:e=>x(t=>({...t,speed:e}))}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"text-xs font-semibold text-slate-200",children:["Memory",(0,n.jsx)(o,{text:"Temporal smoothing of recent sensory input (a low-pass filter). Best seen when Drift or Noise > 0. Long memory is smoother but responds more slowly (lag)."})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)(d,{active:0===f.memory,onClick:()=>x(e=>({...e,memory:0})),children:"Off"}),(0,n.jsx)(d,{active:1===f.memory,onClick:()=>x(e=>({...e,memory:1})),children:"Short"}),(0,n.jsx)(d,{active:2===f.memory,onClick:()=>x(e=>({...e,memory:2})),children:"Long"})]}),(0,n.jsx)("div",{className:"text-xs text-slate-300",children:"Memory is simple smoothing of sensed input (no symbols or meaning)."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"text-xs font-semibold text-slate-200",children:["Agents",(0,n.jsx)(o,{text:"Adds multiple self-regulating agents. Differences become clearer with Drift/Noise, or after pressing Shock."})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)(d,{active:1===f.nAgents,onClick:()=>x(e=>({...e,nAgents:1})),children:"1 agent"}),(0,n.jsx)(d,{active:3===f.nAgents,onClick:()=>x(e=>({...e,nAgents:3})),children:"3 agents"})]})]})]})]}),(0,n.jsxs)(a.Zb,{className:"border border-white/10 bg-white/5",children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{className:"text-sm",children:"How this simulation works"})}),(0,n.jsxs)(a.aY,{className:"space-y-2 text-sm text-slate-200",children:[(0,n.jsx)("p",{children:"The environment is a drifting resource field. Each agent senses local conditions, compares its internal energy to a target, and acts to reduce error."}),(0,n.jsx)("p",{className:"text-slate-300",children:"This is a feedback loop: information about the system’s state guides action to maintain stability. There are no symbols or meaning—only regulation."})]})]}),(0,n.jsxs)(a.Zb,{className:"border border-white/10 bg-white/5",children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{className:"text-sm",children:"IO note"})}),(0,n.jsx)(a.aY,{className:"text-sm text-slate-200",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"A (Awareness)"})," here means self-regulation using information about internal state—not human-like consciousness."]})})]})]})]})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var n=s(7437),r=s(2265),a=s(2974),l=s(3027),i=s(7440);let o=(0,l.j)("inline-flex items-center justify-center rounded-2xl text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 focus-visible:ring-offset-2 disabled:opacity-60 disabled:pointer-events-none ring-offset-slate-950",{variants:{variant:{default:"bg-sky-500 text-white hover:bg-sky-400 shadow-lg shadow-sky-500/30",outline:"border border-slate-700 bg-slate-900 hover:bg-slate-800 text-slate-50",ghost:"text-slate-50 hover:bg-slate-800/70"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-6 text-sm",icon:"h-9 w-9 p-0"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:c=!1,...d}=e,h=c?a.g7:"button";return(0,n.jsx)(h,{className:(0,i.cn)(o({variant:r,size:l,className:s})),ref:t,...d})});c.displayName="Button"},6013:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},Zb:function(){return a},aY:function(){return o},ll:function(){return i}});var n=s(7437);s(2265);var r=s(7440);function a(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow-xl shadow-black/40",t),...s})}function l(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("mb-3 flex flex-col gap-1",t),...s})}function i(e){let{className:t,...s}=e;return(0,n.jsx)("h2",{className:(0,r.cn)("text-lg font-semibold tracking-tight",t),...s})}function o(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("mt-2 text-sm leading-relaxed",t),...s})}},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var n=s(4839),r=s(6164);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,n.W)(t))}}},function(e){e.O(0,[231,5557,2971,7023,1744],function(){return e(e.s=8840)}),_N_E=e.O()}]);